openapi: 3.0.0
info:
  title: Lucinda Server
  version: 2.1.3
  description: A Lucinda based file indexer and storage engine

servers: 
  - url: localhost:2016/lucinda/2.0
    description: local server API Version 2.0

paths:
  /ping:
    get:
      summary: isalive-test
      responses:
        200: 
          description: Server is alive
          content: 
            text/plain:
              schema: 
                type: string
                example: Welcome to Lucinda 2.1.3
  /rescan:
    get:
      summary: rescan database
      description: Rescans and reindexes all documents
      responses:
        200:
          description: rescan launched

  /query:
    post:
      summary: Send a Lucene query string
      requestBody:
        required: true
        content:
          text/plain:
            schema:
              type: string  
      responses:
        200:
          description: query result
          content:
            application/json:
              schema:
                type: array
                items: 
                  $ref: "#/components/schemas/document"

components:
  schemas:
    document:
      description: a Lucene document
      type: object
      properties:
        _id:
          type: string
          format: uuid
        concern:
          type: string  
          example: Meier_Hans_22.04.1971
        lastname:
          type: string
          example: Meier_Hans_22.04.1971
        firstname: 
          type: string
          example: Hans
        birthdate:
          type: string
          example: 19719422
        lucinda_doctype:
          type: string
          anyOf:
            - example: inbox
            - example: omnivore
        title:
          type: string 
          example: 2020-01-23_kardiologische_untersuchung.pdf
        uuid:
          type: string
          format: uuid     
        url:
          type: string  
          format: url
          example: /var/lucindadocs/m/Meier_Hans_22.04.1971/2020-01-23_kardiologische_untersuchung.pdf

          




